@include "rna/_cr_lib_stages.mro"

call BARCODE_CORRECTION(
    gem_well               = 1,
    invalid_uncorrected    = [
        "/home/cachris/geneva/lyria/bam_to_demux/21-2/SC_RNA_COUNTER_CS/SC_MULTI_CORE/MULTI_GEM_WELL_PROCESSOR/COUNT_GEM_WELL_PROCESSOR/_BASIC_SC_RNA_COUNTER/_MATRIX_COMPUTER/MAKE_SHARD/fork0/chnk0-u7139e35d60/files/invalid.shard",
        "/home/cachris/geneva/lyria/bam_to_demux/21-2/SC_RNA_COUNTER_CS/SC_MULTI_CORE/MULTI_GEM_WELL_PROCESSOR/COUNT_GEM_WELL_PROCESSOR/_BASIC_SC_RNA_COUNTER/_MATRIX_COMPUTER/MAKE_SHARD/fork0/chnk1-u7139e35d60/files/invalid.shard",
    ],
    chemistry_def          = {
        barcode: [
            {
                kind:      "gel_bead",
                length:    16,
                offset:    0,
                read_type: "R1",
                whitelist: {
                    "name": "3M-february-2018",
                },
            },
        ],
        description:  "Single Cell 3' v3",
        endedness:    "three_prime",
        name:         "SC3Pv3",
        rna: {
            length:     null,
            min_length: null,
            offset:     0,
            read_type:  "R2",
        },
        rna2:         null,
        strandedness: "+",
        umi: [
            {
                length:     12,
                min_length: 10,
                offset:     16,
                read_type:  "R1",
                whitelist:  null,
            },
        ],
    },
    barcode_segment_counts = "/home/cachris/geneva/lyria/bam_to_demux/21-2/SC_RNA_COUNTER_CS/SC_MULTI_CORE/MULTI_GEM_WELL_PROCESSOR/COUNT_GEM_WELL_PROCESSOR/_BASIC_SC_RNA_COUNTER/_MATRIX_COMPUTER/MAKE_SHARD/fork0/join-u7139e35d5a/files/barcode_segment_counts.bsc.bincode",
    barcode_counts         = "/home/cachris/geneva/lyria/bam_to_demux/21-2/SC_RNA_COUNTER_CS/SC_MULTI_CORE/MULTI_GEM_WELL_PROCESSOR/COUNT_GEM_WELL_PROCESSOR/_BASIC_SC_RNA_COUNTER/_MATRIX_COMPUTER/MAKE_SHARD/fork0/join-u7139e35d5a/files/barcode_counts.bcc.bincode",
    valid_read_metrics     = "/home/cachris/geneva/lyria/bam_to_demux/21-2/SC_RNA_COUNTER_CS/SC_MULTI_CORE/MULTI_GEM_WELL_PROCESSOR/COUNT_GEM_WELL_PROCESSOR/_BASIC_SC_RNA_COUNTER/_MATRIX_COMPUTER/MAKE_SHARD/fork0/join-u7139e35d5a/files/bc_correct_summary.bcm.bincode",
    libraries_to_translate = [],
    min_reads_to_report_bc = 1000,
)
